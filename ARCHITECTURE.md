# アーキテクチャの概要

ChatGPTに作ってもらいました．

## ディレクトリ構造

- `LICENSE`：プロジェクトのライセンス情報が含まれるファイルです．
- `README.md`：プロジェクトの概要やドキュメンテーションが含まれるファイルです．
- `next.config.js`：Next.jsの環境設定ファイルです．
- `package-lock.json`および`package.json`：プロジェクトの依存関係とパッケージ情報が含まれるファイルです．
- `prisma/`：Prisma ORMの関連ファイルが格納されるディレクトリです．
  - `schema.prisma`：Prismaのスキーマファイルです．
  - `migrations/`：Prismaのマイグレーションファイルが格納されるディレクトリです．
- `public/`：公開される静的ファイルが格納されるディレクトリです．
  - `manifest.json`：PWA（プログレッシブウェブアプリ）のマニフェストファイルです．
  - 残りはアイコン系です．
  - `next build`時に生成されるService Worker関連のファイルが置かれます（`.gitignore`済み）
- `src/`：ソースコードが格納されるディレクトリです．
  - `components/`：コンポーネントが格納されるディレクトリです．
    - 複数画面で共通なコンポーネントだけ置いてあります．
    - それ以外は各画面のファイルに置いてあります．
  - `hooks/`：フロントエンド用カスタムフックが格納されるディレクトリです．
    - `Alert.tsx`：左下に表示されるアラートを管理するフックです．Contextを利用しています．
    - `DBState.tsx`：IndexedDBの状態を管理するフックです．Contextを利用しています．
    - `idb.ts`：IndexedDBのラッパー関数が格納されるファイルです．SWRで包んでいます．
    - `swr.ts`：REST APIのラッパー関数が格納されるファイルです．SWRで包んでいます．
    - `UserState.tsx`：インターネットの接続状態とサインイン状態を管理するフックです．Contextを利用しています．
  - `lib/`：バックエンド用の共通コードが格納されるディレクトリです．
    - `auth.ts`：認証関係の複数の関数を定義しています．
    - `env.ts`：環境変数をスキーマにより検証し，型付きでエクスポートしています．
    - `handler.ts`：Route HandlerにREST APIの型をつける簡単なラッパーです．
    - `prisma.ts`：Prismaのインスタンスを置いています．
  - `app/`：ページコンポーネントが格納されるディレクトリです．
    - `api/`：REST APIおよび認証系のエンドポイントが格納されるディレクトリです．
  - `styles/`：スタイル関連のファイルが格納されるディレクトリです．
  - `types/`：型定義ファイルが格納されるディレクトリです．REST APIの型定義を含みます．
- `tsconfig.json`：TypeScriptのビルド設定と関連するビルド情報が含まれるファイルです．
